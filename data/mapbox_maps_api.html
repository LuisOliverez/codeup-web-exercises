<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Add a geocoder</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>

<!-- CSS STYLING FOR PAGE-->

  <style>
    body { margin: 0; padding: 0; }

    #map { position: absolute; top: 80px; left: 0; right: 0; bottom: 0; border: 1px solid red; margin: auto; width: 80%; height: 75vh; transform: translate(0, 0); }

    .popup-favorite{font-weight: bold; color: red; margin-top: 5px}

    .popup-dishes{font-weight: bold; color: blue;}

  .popup-name {font-weight: bold; color: blue}

    .mapboxgl-popup {
      position: absolute;
    }

  </style>


</head>
<body>

<h1>My First Mapbox Map!</h1>


  <!--MAP CONTAINER-->
<div id='map' style='width: 600px; height: 400px;'></div>

<script>
<!--  ACCESS TOKEN-->
const accessToken ='pk.eyJ1IjoibG9saXZlcmV6IiwiYSI6ImNsZ3kyNmtiMjA1ZGEzcXFncWxxMXUxM3UifQ.Vl0vxfTC9-o4dYAB5iWM9w';
mapboxgl.accessToken = accessToken
// INITIALIZING MAP
const map = new mapboxgl.Map({

container: 'map', // container ID
// Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/streets-v12', // style URL
        center: [-119.19082, 46.24174], // starting position
        zoom: 9 // starting zoom
});

// create DOM element for the marker
const el = document.createElement('div');
el.id = 'marker';



const restaurants = [
  {
    name: "Lu LU's Craft Bar + Kitchen",
    description: 'Modern tavern offering meals made with locally grown meats & produce, plus a patio with river views.',
    lngLat: [-119.24987, 46.2639],
    color: '#1200b8',
    favorite: true,
    dishes: [
            {name: `Burgers`, photo: 'https://s3-media0.fl.yelpcdn.com/bphoto/dzbyVxYziyfGfpGyESwRig/o.jpg'},

      {name: `Fried Zucchini Steaks`, photo: `https://s3-media0.fl.yelpcdn.com/bphoto/nEPBSjq9JTKIHY3wTNA5cw/o.jpg`},

      {name: `Sandwiches`, photo: `https://lulucraftbar.com/wp-content/uploads/2020/04/IMG_2728.jpg`}]
  },
  {
    name: "Anthony's at Columbia Point",
    description: 'Down-to-earth Pacific Northwest-based seafood chain serving a menu of hearty local catches.',
    lngLat: [-119.25061, 46.26352],
    color: '#b82500',
    favorite: true,
    dishes: [
            {name: 'Crispy Coconut Shrimp', photo: 'https://norecipes.com/wp-content/uploads/2022/03/easy-coconut-shrimp-004.jpg'},

      {name: 'Seafood Fettuccine', photo: 'https://www.tasteofhome.com/wp-content/uploads/2018/01/Seafood-Pasta-Alfredo_exps49630_SD1999444D06_21_5bC_RMS.jpg'},

      {name: 'Three-Course Sunset Dinner', photo:'https://www.anthonys.com/wp-content/uploads/2020/01/Screen-Shot-2021-12-13-at-11.38.01-AM.png'}]
  },
  {
    name: "Helados La Michoacana",
    description: "Serving authentic Mexican food and all the treats you could want.",
    lngLat: [-119.11806, 46.23494],
    color: '#1200b8',
    favorite: true,
    dishes: [
            {name: 'Aguas Frescas',photo: 'https://images.squarespace-cdn.com/content/v1/58d2f71ee4fcb53791a22fa5/1590700940351-PNHCU52XGMNF1QT40QWD/heladosenefeb-6.jpg?format=1000w'},

      {name: 'Burritos De Lengua', photo:'https://popmenucloud.com/cdn-cgi/image/width%3D1200%2Cheight%3D1200%2Cfit%3Dscale-down%2Cformat%3Dauto%2Cquality%3D60/eobacwxn/fc5c9309-23e0-465e-9b42-4fdd1c953e43.png'},

      {name:'Raspados', photo:'https://images.squarespace-cdn.com/content/v1/58d2f71ee4fcb53791a22fa5/1590700930783-NTPBDVLWJJDUG06L0IOG/heladosenefeb-4.jpg?format=1000w'}]
  },
  {
   name: "Doggie Style Gourmet",
    description: "Serving up doggies in so many styles you won't know where to start.",
    lngLat: [-119.27503, 46.29100],
    color: '#b82500',
    favorite: true,
    dishes: [
            {name:'The Bandit', photo:'https://tb-static.uber.com/prod/image-proc/processed_images/aceb6862d1e6be5430eb696af3dfc78a/5954bcb006b10dbfd0bc160f6370faf3.jpeg'},

      {name: 'The Bernie Mac:', photo:'https://pbs.twimg.com/media/EhgJk2hUcAAr1Vp.jpg'},

      {name: 'Poppin" PeÃ±o Burger:', photo:'https://food.fnr.sndimg.com/content/dam/images/food/fullset/2011/4/12/0/FN_Latin-Burger-Onion-Relish_s4x3.jpg.rend.hgtvcom.616.462.suffix/1371595468483.jpeg'}]
  }

];

restaurants.forEach(restaurant =>{
  let content = `<div class="popup-name">${restaurant.name}</div> ${restaurant.description}`;
  if(restaurant.favorite){
    content += '<br><div class="popup-favorite">This is one of my favorite restaurants!</div>';
    content += '<br><div class="popup-dishes">Some of my favorite dishes are:</div>'; restaurant.dishes.forEach(dish => {
      content +=`<div>${dish.name}</div>`;
      content += `<img src="${dish.photo}" width="100" height= "100"/>`;
    });
  }
  const popup = new mapboxgl.Popup({offset: 25}).setHTML(content);
  new mapboxgl.Marker({
    color: restaurant.color,
    draggable: false

  })

          .setLngLat(restaurant.lngLat)
        .setPopup(popup)
        .addTo(map)
        .getElement()
        .addEventListener('click', function () {
          popup.addTo(map);


        });


});+


map.addControl(new mapboxgl.NavigationControl());






</script>






</body>
</html>
